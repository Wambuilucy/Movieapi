{% load static %} 
{% load bootstrap5 %} 
{%include 'base.html'%} 

{% block styles %}
<link rel="stylesheet" href="{% static 'css/all_trailers.css' %}" />
{% endblock %} 


{% block content%}

<div class="container-fluid">
  <div class="container">

    <!-- <form class="form-group md-form mr-auto mb-4" method="POST" action="#">
      {% csrf_token %}
      <input style="border-radius: 15px;" class="form-control mr-sm-2 search" name="search" type="text" placeholder="Search Movies & TV Shows Trailers" aria-label="Search">
    <center><button class="btn btn-outline-light btn-rounded btn-sm my-0 mt-2" type="submit">Search</button></center>
    </form> -->

  </div>
    <!-- Pills navs -->
<ul class="nav nav-pills nav-fill mb-3" id="ex1" role="tablist">
    <li class="nav-item" role="presentation">
      <a id
        class="nav-link active"
        id="ex2-tab-1"
        data-mdb-toggle="pill"
        href="#ex2-pills-1"
        role="tab"
        aria-controls="ex2-pills-1"
        aria-selected="true"
        ><span style="font-weight: bold; font-size: 1.2rem; color: black !important;">All Movies</span></a
      >
    </li>
    <li class="nav-item" role="presentation">
      <a
        class="nav-link"
        id="ex2-tab-2"
        data-mdb-toggle="pill"
        href="#ex2-pills-2"
        role="tab"
        aria-controls="ex2-pills-2"
        aria-selected="false"
        ><span style="font-weight: bold; font-size: 1.2rem; color: black !important;">Series & TV </span></a
      >
    </li>

  </ul>
  <!-- Pills navs -->
  
  <!-- Pills content -->
  <div class="tab-content" id="ex2-content">
    <div
      class="tab-pane fade show active"
      id="ex2-pills-1"
      role="tabpanel"
      aria-labelledby="ex2-tab-1"
    >



    {% if not page_obj %}

<div class="no">
  <h2>Trailers Not Available </h2>
<br>
<p class="lead">Please wait as movies are uploaded thank you...</p>
</div>

<center>

<div class="spinner-grow text-primary" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
<div class="spinner-grow text-secondary" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
<div class="spinner-grow text-success" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
<div class="spinner-grow text-danger" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
<div class="spinner-grow text-warning" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
<div class="spinner-grow text-info" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
<div class="spinner-grow text-light" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
<div class="spinner-grow text-dark" role="status">
  <span class="visually-hidden">Loading...</span>
</div>
</center>

{% else %}







    <div class="movies-heading">
        <h2>Movie Trailers</h2>
    </div>
    
    <section class="movies-list">
      <div class="row">
      {% for item in page_obj %}
      <div class="col-xs-6 col-sm-3 col-md-4 col-lg-4 info">
        <div class="movies-box">
          
           <a href="{% url 'Test' item.title %}"><img class="img-fluid" src="{{ item.poster.url }}" alt="{{ item.title }}"></a>

           <div class="name">
            <p>
             <a href="{% url 'Test' item.title %}" class="name">{{ item.title|title | truncatechars:39 }}</a>
            </p>
          </div>

        <!-- <a href="#" type="button" class="btn btn-outline-secondary">Details</a> -->
        
    </div>
      </div>
    {% endfor %}
      </div>
    
    </section>
    
    {% if page_obj.has_other_pages %}
    <div class="btns"> 
    
    
    <nav aria-label="...">
      <ul style="color: #dedede;" class="pagination">
    
        {% if page_obj.has_previous %}
    
        <li style="color: #dedede;" class="page-item">
          <a style="color: #dedede;" class="page-link pagit" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        </li>
        
        {% else %}
        <li class="page-item">
          <a class="page-link disabled" aria-disabled="true">Previous</a>
        </li>
    
        {% endif %}
    
        <!-- <li class="page-item"><a style="color: #dedede;" class="page-link" href="#">1</a></li> -->
    
        {% for pages in page_obj.paginator.page_range %}
    
        {% if page_obj.number == pages %}
    
        <li class="page-item active" aria-current="page">
          <a style="color: #dedede;" class="page-link" href="#">{{pages}}</a>
        </li>
    
        {% else %}
        <li class="page-item">
          <a style="color: #dedede;" class="page-link" href="?page={{ pages }}">{{ pages }}</a>
        </li>
    
        {% endif %}
        {% endfor %}
    
        <!-- <li class="page-item"><a style="color: #dedede;" class="page-link" href="#">3</a></li> -->
    
        {% if page_obj.has_next %}
    
        <li class="page-item">
          <a style="color: #dedede;" class="page-link pagit" href="?page={{ page_obj.next_page_number }}">Next</a>
        </li>
    
        {% else %}
        <li class="page-item">
          <a class="page-link disabled">Next</a>
        </li>
    
        {% endif %}
        
      </ul>
    </nav>
    
    </div>
    
    {% endif %}

    {% endif %}












    </div>
    <div
      class="tab-pane fade"
      id="ex2-pills-2"
      role="tabpanel"
      aria-labelledby="ex2-tab-2"
    >




    {% if not page_obj_2 %}

    <div class="no">
      <h2>Trailers Not Available </h2>
    <br>
    <p class="lead">Please wait as shows are uploaded thank you...</p>
    </div>
    
    <center>
    
    <div class="spinner-grow text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-secondary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-success" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-danger" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-warning" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-info" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-light" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <div class="spinner-grow text-dark" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    </center>
    
    {% else %}






    <div class="movies-heading">
        <h2>Series & TV Shows Trailers</h2>
    </div>
    
    <section class="movies-list">
    
      <div class="row">
        {% for item in page_obj_2 %}
        <div class="col-xs-6 col-sm-3 col-md-4 col-lg-4 info">
        <div class="movies-box">
          
        <div class="movies-img">
           <a href="{% url 'Test_Series' item.title %}"><img class="img-fluid" src="{{ item.poster.url }}" alt="{{ item.title }}"></a>
           <div class="name">
            <p>
             <a href="{% url 'Test_Series' item.title %}" class="name">{{ item.title|title | truncatechars:39 }}</a>
            </p>
          </div>
        </div>
        <!-- <a href="#" type="button" class="btn btn-outline-secondary">Details</a> -->
        
    </div>
    </div>
    {% endfor %}
    </div>
    
    </section>
    
    {% if page_obj_2.has_other_pages %}
    <div class="btns"> 
    
    
    <nav aria-label="...">
      <ul style="color: #dedede;" class="pagination">
    
        {% if page_obj_2.has_previous %}
    
        <li style="color: #dedede;" class="page-item">
          <a style="color: #dedede;" class="page-link pagit" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        </li>
        
        {% else %}
        <li class="page-item">
          <a class="page-link disabled" aria-disabled="true">Previous</a>
        </li>
    
        {% endif %}
    
        <!-- <li class="page-item"><a style="color: #dedede;" class="page-link" href="#">1</a></li> -->
    
        {% for pages in page_obj_2.paginator_2.page_range %}
    
        {% if page_obj_2.number == pages %}
    
        <li class="page-item active" aria-current="page">
          <a style="color: #dedede;" class="page-link" href="#">{{pages}}</a>
        </li>
    
        {% else %}
        <li class="page-item">
          <a style="color: #dedede;" class="page-link" href="?page={{ pages }}">{{ pages }}</a>
        </li>
    
        {% endif %}
        {% endfor %}
    
        <!-- <li class="page-item"><a style="color: #dedede;" class="page-link" href="#">3</a></li> -->
    
        {% if page_obj_2.has_next %}
    
        <li class="page-item">
          <a style="color: #dedede;" class="page-link pagit" href="?page={{ page_obj.next_page_number }}">Next</a>
        </li>
    
        {% else %}
        <li class="page-item">
          <a class="page-link disabled">Next</a>
        </li>
    
        {% endif %}
        
      </ul>
    </nav>
    
    </div>
    
    {% endif %}



    {% endif %}








    </div>

  </div>
  <!-- Pills content -->
</div>

<script>
  if ( window.history.replaceState ) {
      window.history.replaceState( null, null, window.location.href );
  }
</script>

<script>
  $('#try').click(
    function(){
        $('#input').val($('#input').val()+$(this).val());
        console.log($('#input').val())
    }
);

</script>

<br />
<br />
<br />
<br />
<br />
{%include 'footer.html'%}

{% endblock %}